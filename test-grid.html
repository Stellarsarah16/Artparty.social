<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Tile Grid Test</title>
    <style>
        /* Import the CSS variables system */
        :root {
            /* Base tile size - adjust this one variable to change everything */
            --tile-display-size: 240px;
            
            /* Calculated grid dimensions */
            --grid-total-size: calc(var(--tile-display-size) * 3);
            
            /* Device-specific size presets - DOUBLED */
            --mobile-tile-size: 120px;      /* Was 80px, now 120px */
            --tablet-tile-size: 160px;      /* Was 100px, now 160px */
            --desktop-tile-size: 240px;     /* Was 120px, now 240px */
            --large-desktop-tile-size: 280px; /* Was 140px, now 280px */
            
            /* Colors */
            --color-white: #ffffff;
            --color-primary: #6366f1;
            --border-color: #e5e7eb;
        }

        /* Responsive tile size adjustments - DOUBLED SIZES */
        @media (max-width: 480px) {
            :root {
                --tile-display-size: var(--mobile-tile-size); /* 120px */
            }
        }

        @media (min-width: 481px) and (max-width: 768px) {
            :root {
                --tile-display-size: var(--tablet-tile-size); /* 160px */
            }
        }

        @media (min-width: 769px) and (max-width: 1199px) {
            :root {
                --tile-display-size: var(--desktop-tile-size); /* 240px */
            }
        }

        @media (min-width: 1200px) {
            :root {
                --tile-display-size: var(--large-desktop-tile-size); /* 280px */
            }
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }

        h1 {
            color: #333;
            margin-bottom: 20px;
        }

        .info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
            text-align: left;
        }

        .controls {
            margin: 20px 0;
        }

        button {
            margin: 5px;
            padding: 10px 20px;
            background: var(--color-primary);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        button:hover {
            opacity: 0.9;
        }

        /* Seamless 3x3 tile grid - centered with overflow allowed */
        .neighbor-grid {
            display: grid;
            grid-template-columns: repeat(3, var(--tile-display-size));
            grid-template-rows: repeat(3, var(--tile-display-size));
            gap: 0;
            width: var(--grid-total-size);
            height: var(--grid-total-size);
            
            /* Center the grid - current tile will be in screen center */
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            
            /* Allow overflow - neighbors can extend beyond screen */
            overflow: visible;
            border: 2px solid var(--border-color);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            z-index: 10;
        }

        .neighbor-cell {
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid var(--border-color);
            background: var(--color-white);
            position: relative;
            
            /* All tiles exactly the same size using CSS variables */
            width: var(--tile-display-size);
            height: var(--tile-display-size);
            min-width: var(--tile-display-size);
            min-height: var(--tile-display-size);
            max-width: var(--tile-display-size);
            max-height: var(--tile-display-size);
            flex: none;
            
            font-size: 14px;
            color: #666;
            transition: background-color 0.2s;
        }

        .neighbor-cell:hover {
            background: #f0f0f0;
        }

        /* Current tile styling - same size as neighbors */
        .neighbor-cell.current {
            background: rgba(99, 102, 241, 0.1);
            position: relative;
            font-weight: bold;
            color: var(--color-primary);
        }

        .neighbor-cell.current::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border: 3px solid var(--color-primary);
            pointer-events: none;
            z-index: 1;
        }

        .size-display {
            margin-top: 20px;
            padding: 10px;
            background: #fff;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ¨ Dynamic Tile Sizing System Test</h1>
        
        <div class="info">
            <h3>âœ… Fixed Issues:</h3>
            <ul>
                <li><strong>All tiles same size:</strong> Every tile is exactly <code>var(--tile-display-size)</code></li>
                <li><strong>Seamless 3x3 grid:</strong> CSS Grid with <code>gap: 0</code> for perfect connection</li>
                <li><strong>Responsive sizing:</strong> Automatically adjusts based on screen size</li>
                <li><strong>Single source of truth:</strong> Change one CSS variable, everything updates</li>
            </ul>
        </div>

        <div class="controls">
            <button onclick="setTileSize(120)">Mobile (120px)</button>
            <button onclick="setTileSize(160)">Tablet (160px)</button>
            <button onclick="setTileSize(240)">Desktop (240px)</button>
            <button onclick="setTileSize(280)">Large (280px)</button>
            <button onclick="setTileSize(320)">Custom (320px)</button>
        </div>

        <div class="neighbor-grid">
            <!-- Top Row -->
            <div class="neighbor-cell">Top-Left</div>
            <div class="neighbor-cell">Top</div>
            <div class="neighbor-cell">Top-Right</div>
            
            <!-- Middle Row -->
            <div class="neighbor-cell">Left</div>
            <div class="neighbor-cell current">CURRENT<br/>TILE</div>
            <div class="neighbor-cell">Right</div>
            
            <!-- Bottom Row -->
            <div class="neighbor-cell">Bottom-Left</div>
            <div class="neighbor-cell">Bottom</div>
            <div class="neighbor-cell">Bottom-Right</div>
        </div>

        <div class="size-display">
            <strong>Current tile size:</strong> <span id="current-size">240px</span><br>
            <strong>Grid dimensions:</strong> <span id="grid-size">720px Ã— 720px</span><br>
            <strong>Screen width:</strong> <span id="screen-width">-</span><br>
            <strong>Note:</strong> Grid is centered - current tile in screen center, neighbors may extend beyond edges
        </div>
    </div>

    <script>
        function setTileSize(size) {
            document.documentElement.style.setProperty('--tile-display-size', `${size}px`);
            updateDisplay();
            console.log(`ðŸŽ¨ Tile size set to: ${size}px`);
        }

        function updateDisplay() {
            const tileSize = parseInt(getComputedStyle(document.documentElement)
                .getPropertyValue('--tile-display-size').replace('px', ''));
            
            document.getElementById('current-size').textContent = `${tileSize}px`;
            document.getElementById('grid-size').textContent = `${tileSize * 3}px Ã— ${tileSize * 3}px`;
            document.getElementById('screen-width').textContent = `${window.innerWidth}px`;
        }

        // Update display on load and resize
        window.addEventListener('load', updateDisplay);
        window.addEventListener('resize', updateDisplay);

        // Auto-adjust on window resize (like in the real app)
        function adjustTileSize() {
            const viewport = {
                width: window.innerWidth,
                height: window.innerHeight
            };
            
            let tileSize;
            if (viewport.width <= 480) {
                tileSize = 120; // Mobile: 120px
            } else if (viewport.width <= 768) {
                tileSize = 160; // Tablet: 160px
            } else if (viewport.width <= 1199) {
                tileSize = 240; // Desktop: 240px
            } else {
                tileSize = 280; // Large Desktop: 280px
            }
            
            setTileSize(tileSize);
        }

        // Enable auto-adjustment (uncomment to test)
        // window.addEventListener('resize', adjustTileSize);
    </script>
</body>
</html>
